Интернет-магазин
=============================
Категория: Обувь

## Требования к окружению
- PHP 7.4.3
- Nginx 1.18.0
- MySQL 8.1.0

## Ключевые файлы конфигурации
1.  db-console.php - настройка соединения с БД для точки входа веб-сервера
1.  web/index.php - стартовая настройка приложения для dev-окружения

## Переменные окружения
```
REGISTRY=localhost      - префикс контейнеров
IMAGE_TAG=latest        - версии контейнеров
ENV=                    - окружения для развёртки 
APP_WEB_PORT=           - порт приложения
NGINX_CONTAINER_NAME=   - название контейнера nginx
PHP_FMP_CONTAINER_NAME= - название контейнера fmp
PHP_CLI_CONTAINER_NAME= - название контейнера cli
MYSQL_HOST=             - название контейнера MySQL
MYSQL_PORT=             - порт для базы данных
MYSQL_DATABASE=         - название базы данных
MYSQL_USER=             - пользователь базы данных
MYSQL_PASSWORD=         - пароль пользователя
MYSQL_ROOT_PASSWORD=    - пароль суперпользователя
```

## Развертка приложения
1.  Необходимо скопировать файл .env.dist в файл .env
1.  Выполнить настройку переменных окружения
1.  Далее следует выполнить команду ```make install``` и дождаться её выполнения
1.  После необходимо скопировать файл enviroments/dev/web/index.php в web/
1.  Также следует скопровать файл enviroments/dev/db-console.php в config/ и переименовать его в db.php
1.  Выполнить команду ```make up``` и дождаться запуска докер-образов
1.  Далее по порядку выполнить команды ```make yii-migrate```, ```make chown```, ```make yii-rbac-init```.

По завершению последней команды приложение будет работать. 
Для входа в систему под админом следует использовать логин/пароль admin@admin.a/lol2lol
